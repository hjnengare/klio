import { Business } from "../components/BusinessCard/BusinessCard";

// Create a Map for O(1) business lookup instead of array filtering
const BUSINESS_MAP = new Map<string, Business>();

// Initialize the map with business data
const initializeBusinessMap = () => {
  if (BUSINESS_MAP.size === 0) {
    // Import the businesses and populate the map
    // PNG fallback icons are automatically mapped based on category in BusinessCard
    // All businesses start without uploaded images, so they use category-based PNG fallbacks
    const businesses: Business[] = [
      {
        id: "550e8400-e29b-41d4-a716-446655440001",
        name: "The Green Table",
        // No uploaded_image - will use category-based PNG fallback
        alt: "The Green Table restaurant",
        category: "Restaurant",
        location: "Downtown",
        rating: 5,
        totalRating: 4.8,
        reviews: 127,
        badge: "Trending",
        href: "/business/550e8400-e29b-41d4-a716-446655440001",
        percentiles: { service: 96, price: 87, ambience: 91 },
        verified: true,
        distance: "0.3 mi",
        priceRange: "$$",
      },
      {
        id: "550e8400-e29b-41d4-a716-446655440002",
        name: "Artisan Coffee Co.",
        // No uploaded_image - will use category-based PNG fallback
        alt: "Artisan Coffee Co.",
        category: "Coffee Shop",
        location: "Arts District",
        rating: 5,
        totalRating: 4.9,
        reviews: 89,
        href: "/business/550e8400-e29b-41d4-a716-446655440002",
        percentiles: { service: 93, price: 84, ambience: 89 },
        verified: true,
        distance: "0.5 mi",
        priceRange: "$",
      },
      {
        id: "550e8400-e29b-41d4-a716-446655440003",
        name: "Sunset Lounge",
        // No uploaded_image - will use category-based PNG fallback
        alt: "Sunset Lounge cocktail bar",
        category: "Cocktail Bar",
        location: "Riverside",
        rating: 5,
        totalRating: 4.7,
        reviews: 156,
        href: "/business/550e8400-e29b-41d4-a716-446655440003",
        percentiles: { service: 95, price: 88, ambience: 93 },
        verified: true,
        distance: "0.6 mi",
        priceRange: "$$$",
      },
      {
        id: "550e8400-e29b-41d4-a716-446655440004",
        name: "The Grand Feast",
        // No uploaded_image - will use category-based PNG fallback
        alt: "The Grand Feast fine dining",
        category: "Fine Dining",
        location: "Historic District",
        rating: 5,
        totalRating: 4.9,
        reviews: 203,
        badge: "Top Rated",
        href: "/business/550e8400-e29b-41d4-a716-446655440004",
        percentiles: { service: 98, price: 92, ambience: 96 },
        verified: true,
        distance: "0.8 mi",
        priceRange: "$$$$",
      },
      {
        id: "550e8400-e29b-41d4-a716-446655440005",
        name: "Street Bites Mobile",
        // No uploaded_image - will use category-based PNG fallback
        alt: "Street Bites Mobile food truck",
        category: "Food Truck",
        location: "Market Square",
        rating: 5,
        totalRating: 4.6,
        reviews: 134,
        href: "/business/550e8400-e29b-41d4-a716-446655440005",
        percentiles: { service: 90, price: 95, ambience: 85 },
        verified: true,
        distance: "0.4 mi",
        priceRange: "$",
      },
      {
        id: "550e8400-e29b-41d4-a716-446655440006",
        name: "Morning Glory Bakery",
        // No uploaded_image - will use category-based PNG fallback
        alt: "Morning Glory Bakery",
        category: "Bakery",
        location: "Market Square",
        rating: 5,
        totalRating: 4.8,
        reviews: 178,
        href: "/business/550e8400-e29b-41d4-a716-446655440006",
        percentiles: { service: 94, price: 82, ambience: 89 },
        verified: true,
        distance: "0.4 mi",
        priceRange: "$",
      },
      // 007-beer-tap.png
      {
        id: "550e8400-e29b-41d4-a716-446655440007",
        name: "Craft Brewery Co.",
        // No uploaded_image - will use category-based PNG fallback
        alt: "Craft Brewery Co.",
        category: "Brewery",
        location: "Industrial District",
        rating: 5,
        totalRating: 4.7,
        reviews: 245,
        badge: "Popular",
        href: "/business/550e8400-e29b-41d4-a716-446655440007",
        percentiles: { service: 91, price: 86, ambience: 92 },
        verified: true,
        distance: "1.1 mi",
        priceRange: "$$",
      },
      // 008-wine-bottle.png
      {
        id: "550e8400-e29b-41d4-a716-446655440008",
        name: "Vineyard Wine Bar",
        // No uploaded_image - will use category-based PNG fallback008-wine-bottle.png",
        alt: "Vineyard Wine Bar",
        category: "Wine Bar",
        location: "Wine District",
        rating: 5,
        totalRating: 4.9,
        reviews: 167,
        href: "/business/550e8400-e29b-41d4-a716-446655440008",
        percentiles: { service: 96, price: 89, ambience: 94 },
        verified: true,
        distance: "0.7 mi",
        priceRange: "$$$",
      },
      // 009-salon.png
      {
        id: "550e8400-e29b-41d4-a716-446655440009",
        name: "Glow Hair Salon",
        // No uploaded_image - will use category-based PNG fallback009-salon.png",
        alt: "Glow Hair Salon",
        category: "Hair Salon",
        location: "Fashion District",
        rating: 5,
        totalRating: 4.8,
        reviews: 189,
        href: "/business/550e8400-e29b-41d4-a716-446655440009",
        percentiles: { service: 95, price: 88, ambience: 91 },
        verified: true,
        distance: "0.5 mi",
        priceRange: "$$",
      },
      // 010-spa.png
      {
        id: "550e8400-e29b-41d4-a716-446655440010",
        name: "Serenity Spa",
        // No uploaded_image - will use category-based PNG fallback010-spa.png",
        alt: "Serenity Spa",
        category: "Spa",
        location: "Wellness Center",
        rating: 5,
        totalRating: 4.9,
        reviews: 223,
        badge: "Top Rated",
        href: "/business/550e8400-e29b-41d4-a716-446655440010",
        percentiles: { service: 97, price: 85, ambience: 95 },
        verified: true,
        distance: "0.9 mi",
        priceRange: "$$$",
      },
      // 011-nail-polish.png
      {
        id: "550e8400-e29b-41d4-a716-446655440011",
        name: "Polish Perfect Nails",
        // No uploaded_image - will use category-based PNG fallback011-nail-polish.png",
        alt: "Polish Perfect Nails",
        category: "Nail Salon",
        location: "Fashion District",
        rating: 5,
        totalRating: 4.7,
        reviews: 156,
        href: "/business/550e8400-e29b-41d4-a716-446655440011",
        percentiles: { service: 93, price: 84, ambience: 88 },
        verified: true,
        distance: "0.6 mi",
        priceRange: "$$",
      },
      // 012-barber-pole.png
      {
        id: "550e8400-e29b-41d4-a716-446655440012",
        name: "Classic Cuts Barbershop",
        // No uploaded_image - will use category-based PNG fallback012-barber-pole.png",
        alt: "Classic Cuts Barbershop",
        category: "Barber Shop",
        location: "Downtown",
        rating: 5,
        totalRating: 4.8,
        reviews: 198,
        href: "/business/550e8400-e29b-41d4-a716-446655440012",
        percentiles: { service: 94, price: 90, ambience: 87 },
        verified: true,
        distance: "0.3 mi",
        priceRange: "$$",
      },
      // 013-body-massage.png
      {
        id: "550e8400-e29b-41d4-a716-446655440013",
        name: "Healing Hands Massage",
        // No uploaded_image - will use category-based PNG fallback013-body-massage.png",
        alt: "Healing Hands Massage",
        category: "Massage",
        location: "Wellness Center",
        rating: 5,
        totalRating: 4.9,
        reviews: 267,
        badge: "Popular",
        href: "/business/550e8400-e29b-41d4-a716-446655440013",
        percentiles: { service: 98, price: 87, ambience: 93 },
        verified: true,
        distance: "0.9 mi",
        priceRange: "$$",
      },
      // 014-dumbbell.png
      {
        id: "550e8400-e29b-41d4-a716-446655440014",
        name: "Iron Strength Gym",
        // No uploaded_image - will use category-based PNG fallback014-dumbbell.png",
        alt: "Iron Strength Gym",
        category: "Gym",
        location: "Fitness Plaza",
        rating: 5,
        totalRating: 4.7,
        reviews: 312,
        href: "/business/550e8400-e29b-41d4-a716-446655440014",
        percentiles: { service: 92, price: 91, ambience: 89 },
        verified: true,
        distance: "1.0 mi",
        priceRange: "$$",
      },
      // 015-yoga.png
      {
        id: "550e8400-e29b-41d4-a716-446655440015",
        name: "Bloom Yoga Studio",
        // No uploaded_image - will use category-based PNG fallback015-yoga.png",
        alt: "Bloom Yoga Studio",
        category: "Yoga Studio",
        location: "Riverside",
        rating: 5,
        totalRating: 4.8,
        reviews: 201,
        href: "/business/550e8400-e29b-41d4-a716-446655440015",
        percentiles: { service: 95, price: 86, ambience: 92 },
        verified: true,
        distance: "0.8 mi",
        priceRange: "$$",
      },
      // 016-pilates.png
      {
        id: "550e8400-e29b-41d4-a716-446655440016",
        name: "Core Pilates Studio",
        // No uploaded_image - will use category-based PNG fallback016-pilates.png",
        alt: "Core Pilates Studio",
        category: "Pilates Studio",
        location: "Wellness Center",
        rating: 5,
        totalRating: 4.9,
        reviews: 178,
        href: "/business/550e8400-e29b-41d4-a716-446655440016",
        percentiles: { service: 96, price: 88, ambience: 94 },
        verified: true,
        distance: "0.9 mi",
        priceRange: "$$",
      },
      // 017-taekwondo.png
      {
        id: "550e8400-e29b-41d4-a716-446655440017",
        name: "Dragon Martial Arts",
        // No uploaded_image - will use category-based PNG fallback017-taekwondo.png",
        alt: "Dragon Martial Arts",
        category: "Martial Arts",
        location: "Fitness Plaza",
        rating: 5,
        totalRating: 4.7,
        reviews: 145,
        href: "/business/550e8400-e29b-41d4-a716-446655440017",
        percentiles: { service: 93, price: 85, ambience: 90 },
        verified: true,
        distance: "1.1 mi",
        priceRange: "$$",
      },
      // 018-museum.png
      {
        id: "550e8400-e29b-41d4-a716-446655440018",
        name: "City History Museum",
        // No uploaded_image - will use category-based PNG fallback018-museum.png",
        alt: "City History Museum",
        category: "Museum",
        location: "Historic District",
        rating: 5,
        totalRating: 4.6,
        reviews: 423,
        badge: "Popular",
        href: "/business/550e8400-e29b-41d4-a716-446655440018",
        percentiles: { service: 91, price: 92, ambience: 96 },
        verified: true,
        distance: "1.2 mi",
        priceRange: "$$",
      },
      // 019-art-gallery.png
      {
        id: "550e8400-e29b-41d4-a716-446655440019",
        name: "Modern Art Gallery",
        // No uploaded_image - will use category-based PNG fallback019-art-gallery.png",
        alt: "Modern Art Gallery",
        category: "Art Gallery",
        location: "Arts District",
        rating: 5,
        totalRating: 4.8,
        reviews: 156,
        href: "/business/550e8400-e29b-41d4-a716-446655440019",
        percentiles: { service: 94, price: 87, ambience: 98 },
        verified: true,
        distance: "0.5 mi",
        priceRange: "$",
      },
      // 020-theatre.png
      {
        id: "550e8400-e29b-41d4-a716-446655440020",
        name: "Grand Theatre",
        // No uploaded_image - will use category-based PNG fallback020-theatre.png",
        alt: "Grand Theatre",
        category: "Theatre",
        location: "Downtown",
        rating: 5,
        totalRating: 4.9,
        reviews: 389,
        badge: "Top Rated",
        href: "/business/550e8400-e29b-41d4-a716-446655440020",
        percentiles: { service: 97, price: 89, ambience: 99 },
        verified: true,
        distance: "0.3 mi",
        priceRange: "$$$",
      },
      // 021-workshop.png
      {
        id: "550e8400-e29b-41d4-a716-446655440021",
        name: "Creative Workshop",
        // No uploaded_image - will use category-based PNG fallback021-workshop.png",
        alt: "Creative Workshop",
        category: "Workshop",
        location: "Arts Quarter",
        rating: 5,
        totalRating: 4.7,
        reviews: 134,
        href: "/business/550e8400-e29b-41d4-a716-446655440021",
        percentiles: { service: 92, price: 83, ambience: 91 },
        verified: true,
        distance: "0.6 mi",
        priceRange: "$$",
      },
      // 022-party-people.png
      {
        id: "550e8400-e29b-41d4-a716-446655440022",
        name: "Celebration Hall",
        // No uploaded_image - will use category-based PNG fallback022-party-people.png",
        alt: "Celebration Hall event venue",
        category: "Event Venue",
        location: "Event District",
        rating: 5,
        totalRating: 4.8,
        reviews: 267,
        href: "/business/550e8400-e29b-41d4-a716-446655440022",
        percentiles: { service: 95, price: 90, ambience: 93 },
        verified: true,
        distance: "1.3 mi",
        priceRange: "$$$",
      },
      // 023-shopping-bag.png
      {
        id: "550e8400-e29b-41d4-a716-446655440023",
        name: "City Market",
        // No uploaded_image - will use category-based PNG fallback023-shopping-bag.png",
        alt: "City Market",
        category: "Shopping",
        location: "Shopping District",
        rating: 5,
        totalRating: 4.6,
        reviews: 445,
        badge: "Popular",
        href: "/business/550e8400-e29b-41d4-a716-446655440023",
        percentiles: { service: 90, price: 88, ambience: 87 },
        verified: true,
        distance: "0.7 mi",
        priceRange: "$$",
      },
      // 024-boutique.png
      {
        id: "550e8400-e29b-41d4-a716-446655440024",
        name: "Elegance Boutique",
        // No uploaded_image - will use category-based PNG fallback024-boutique.png",
        alt: "Elegance Boutique",
        category: "Boutique",
        location: "Fashion District",
        rating: 5,
        totalRating: 4.9,
        reviews: 178,
        href: "/business/550e8400-e29b-41d4-a716-446655440024",
        percentiles: { service: 96, price: 85, ambience: 94 },
        verified: true,
        distance: "0.5 mi",
        priceRange: "$$$",
      },
      // 025-open-book.png
      {
        id: "550e8400-e29b-41d4-a716-446655440025",
        name: "Vintage Books & Coffee",
        // No uploaded_image - will use category-based PNG fallback025-open-book.png",
        alt: "Vintage Books & Coffee",
        category: "Bookstore",
        location: "Historic District",
        rating: 5,
        totalRating: 4.7,
        reviews: 312,
        badge: "Trending",
        href: "/business/550e8400-e29b-41d4-a716-446655440025",
        percentiles: { service: 93, price: 88, ambience: 95 },
        verified: true,
        distance: "1.2 mi",
        priceRange: "$",
      },
      // 026-house-decoration.png
      {
        id: "550e8400-e29b-41d4-a716-446655440026",
        name: "Home Décor Plus",
        // No uploaded_image - will use category-based PNG fallback026-house-decoration.png",
        alt: "Home Décor Plus",
        category: "Home Decor",
        location: "Shopping District",
        rating: 5,
        totalRating: 4.8,
        reviews: 223,
        href: "/business/550e8400-e29b-41d4-a716-446655440026",
        percentiles: { service: 94, price: 86, ambience: 92 },
        verified: true,
        distance: "0.8 mi",
        priceRange: "$$",
      },
      // 027-gift.png
      {
        id: "550e8400-e29b-41d4-a716-446655440027",
        name: "Gift Haven",
        // No uploaded_image - will use category-based PNG fallback027-gift.png",
        alt: "Gift Haven",
        category: "Gift Shop",
        location: "Shopping District",
        rating: 5,
        totalRating: 4.7,
        reviews: 189,
        href: "/business/550e8400-e29b-41d4-a716-446655440027",
        percentiles: { service: 91, price: 84, ambience: 89 },
        verified: true,
        distance: "0.7 mi",
        priceRange: "$$",
      },
      // 028-value.png
      {
        id: "550e8400-e29b-41d4-a716-446655440028",
        name: "Thrift Treasures",
        // No uploaded_image - will use category-based PNG fallback028-value.png",
        alt: "Thrift Treasures",
        category: "Thrift Store",
        location: "Budget District",
        rating: 5,
        totalRating: 4.5,
        reviews: 445,
        badge: "Popular",
        href: "/business/550e8400-e29b-41d4-a716-446655440028",
        percentiles: { service: 88, price: 96, ambience: 85 },
        verified: true,
        distance: "1.4 mi",
        priceRange: "$",
      },
      // 029-grocery-basket.png
      {
        id: "550e8400-e29b-41d4-a716-446655440029",
        name: "Fresh Market Grocery",
        // No uploaded_image - will use category-based PNG fallback029-grocery-basket.png",
        alt: "Fresh Market Grocery",
        category: "Grocery Store",
        location: "Market Square",
        rating: 5,
        totalRating: 4.6,
        reviews: 523,
        href: "/business/550e8400-e29b-41d4-a716-446655440029",
        percentiles: { service: 90, price: 92, ambience: 88 },
        verified: true,
        distance: "0.4 mi",
        priceRange: "$$",
      },
      // 030-stall.png
      {
        id: "550e8400-e29b-41d4-a716-446655440030",
        name: "Farmers Market Stall",
        // No uploaded_image - will use category-based PNG fallback030-stall.png",
        alt: "Farmers Market Stall",
        category: "Market Stall",
        location: "Market Square",
        rating: 5,
        totalRating: 4.7,
        reviews: 167,
        href: "/business/550e8400-e29b-41d4-a716-446655440030",
        percentiles: { service: 92, price: 94, ambience: 86 },
        verified: true,
        distance: "0.5 mi",
        priceRange: "$",
      },
      // 031-fast-food.png
      {
        id: "550e8400-e29b-41d4-a716-446655440031",
        name: "Quick Bites Fast Food",
        // No uploaded_image - will use category-based PNG fallback031-fast-food.png",
        alt: "Quick Bites Fast Food",
        category: "Fast Food",
        location: "Downtown",
        rating: 5,
        totalRating: 4.5,
        reviews: 389,
        href: "/business/550e8400-e29b-41d4-a716-446655440031",
        percentiles: { service: 89, price: 95, ambience: 82 },
        verified: true,
        distance: "0.2 mi",
        priceRange: "$",
      },
    ];

    businesses.forEach(business => {
      BUSINESS_MAP.set(business.id, business);
    });
  }
};

// Initialize the map
initializeBusinessMap();

// Optimized function to get businesses by IDs
export const getBusinessesByIds = (ids: string[]): Business[] => {
  return ids
    .map(id => BUSINESS_MAP.get(id))
    .filter(Boolean) as Business[];
};

// Get all business IDs (for compatibility)
export const getAllBusinessIds = (): string[] => {
  return Array.from(BUSINESS_MAP.keys());
};

// Get business by ID
export const getBusinessById = (id: string): Business | undefined => {
  return BUSINESS_MAP.get(id);
};
